<div class="pricing-section pt-5 pb-3">
  <div class="container mx-auto">
    <div class="pricing-section__header d-flex flex-column align-items-center gap-2">
      <div class="mt-2 p-1 px-3 rounded-0">
        <em>10% off with 2 courses, 15% off with 3</em>
      </div>
      <h4 class="text-center mb-5 w-75 text-center mx-auto">Online ACLS recertification in 2-5 hours</h4>
    </div>

    <form method="POST" action="https://api.acls.net/public/checkout" class="courses-btns-form">
      <input
        name="source_url"
        type="hidden"
        value="{%- if page.experiment -%}{{site.url}}{{page.url | escape}}{%- elsif page.canonical-link -%}{{site.url}}{{page.canonical-link | escape}}{%- else -%}{{site.url}}{{page.url | escape}}{%- endif -%}"
      >

      <div class="row">
        <!-- ACLS Card -->
        <div class="col-md-4 mb-3">
          <div
            class="course-card selected"
            data-course="46339924689133"
            tabindex="0"
            role="button"
            aria-pressed="true"
            aria-label="ACLS Provider Course $175"
          >
            <div class="course-card__body">
              <div class="d-flex justify-content-between align-items-center">
                <h5 class="course-card__title">ACLS PROVIDER</h5>
                <span class="course-card__price">$175</span>
              </div>
              <p class="course-card__text">
                ACLS provides skills to manage cardiopulmonary arrest or other cardiovascular emergencies, to recognize
                and manage respiratory arrest, and to provide services in emergency situations.
              </p>
            </div>
          </div>
        </div>

        <!-- PALS Card -->
        <div class="col-md-4 mb-3">
          <div
            class="course-card"
            data-course="46339925278957"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="PALS Provider Course $175"
          >
            <div class="course-card__body">
              <div class="d-flex justify-content-between align-items-center">
                <h5 class="course-card__title">PALS PROVIDER</h5>
                <span class="course-card__price">$175</span>
              </div>
              <p class="course-card__text">
                PALS is for those who respond to emergencies in children and infants, provide intensive care, emergency
                medicine, and provide services in critical care units to pediatric patients.
              </p>
            </div>
          </div>
        </div>

        <!-- BLS Card -->
        <div class="col-md-4 mb-3">
          <div
            class="course-card"
            data-course="46339924918509"
            tabindex="0"
            role="button"
            aria-pressed="false"
            aria-label="BLS Provider Course $65"
          >
            <div class="course-card__body">
              <div class="d-flex justify-content-between align-items-center">
                <h5 class="course-card__title">BLS PROVIDER</h5>
                <span class="course-card__price">$65</span>
              </div>
              <p class="course-card__text">
                BLS course provides training for prompt recognition of several life-threatening emergencies, delivering
                appropriate ventilations, and provision of high-quality chest compressions.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="text-center my-4 row">
        <button id="buynow-btn" type="submit" class="col-9 col-xl-3 mx-auto btn btn-lg rounded-0">
          <i class="bi bi-cart-fill"></i> Enroll Now
        </button>

        <p class="mt-4 h6">
          <a class="text-decoration-underline text-black" href="https://www.acls.net/signup"
            >See our other courses and group discounts</a
          >
        </p>
      </div>
    </form>
  </div>
</div>

<footer class="mt-5 pt-5">
  <div class="container">
    <h2 class="visually-hidden">Footer</h2>
    <h2 class="text-decoration-underline mb-4">RN MOBILITY</h2>
    <div class="row">
      <div class="col-lg-4">
        <h3 class="fs-5"><strong>Courses</strong></h3>
        <div class="footer-links">
          <a href="https://www.acls.net/acls">ACLS</a>
          <a href="https://www.acls.net/bls">BLS</a>
          <a href="https://www.acls.net/pals">PALS</a>
          <a href="https://www.acls.net/monitor-tech">Monitor tech</a>
          <a href="https://www.acls.net/monitor-tech#arrhythmia-interpretation">Arrhythmia interpretation</a>
          <a href="https://www.acls.net/monitor-tech#12-lead-ecg">12-lead ECG</a>
          <a href="https://www.acls.net/bbp">BBP (OSHA)</a>
        </div>
      </div>
      <div class="col-lg-4 mt-3 mt-lg-0">
        <h3 class="fs-5">
          <strong>About us</strong>
        </h3>
        <div class="footer-links px-0">
          <a href="/aboutrnmobility">About</a>
          <a href="/nursinglicensurecompact">Multi-state licensure</a>
          <a href="https://www.acls.net/contact">Contact us</a>
        </div>
      </div>
      <div class="col-lg-4 mt-3 mt-lg-0">
        <h3 class="fs-5"><strong>Resources</strong></h3>
        <div class="footer-links px-0">
          <div>
            <a class="d-inline" href="https://www.acls.net/quiz">ACLS pretest, </a>
            <a class="d-inline" href="https://www.acls.net/quiz#bls-practice-quiz">BLS quizzes, </a>
            <a class="d-inline" href="https://www.acls.net/palsquiz">PALS quizzes, </a>
            <a class="d-inline" href="https://www.acls.net/quiz#just-for-ems">EMS quizzes</a>
          </div>
          <a href="https://www.acls.net/printed_products">Crash cart/pocket cards</a>
          <a href="https://www.acls.net/acls-faq">ACLS frequently asked questions</a>
          <a href="https://www.acls.net/videos">ACLS videos</a>
          <div>
            <a class="d-inline" href="https://www.acls.net/nrp-prep/">Resources for NRP:</a>
            <a class="d-inline" href="https://www.acls.net/quizzes/nrp/nrp">practice test, </a>
            <a class="d-inline" href="https://www.acls.net/nrp-prep/curriculum">curriculum, </a>
            <a class="d-inline" href="https://www.acls.net/nrp-prep/flashcard">flashcards</a>
          </div>
          <a href="https://www.acls.net/acls-crash-cart-faq">ACLS crash FAQ</a>
          <a href="https://www.acls.net/acls-crash-cart">Crash cart checklist</a>
          <a href="https://www.acls.net/icd-10-flashcards">ICD-10 flashcards (humor)</a>
          <a href="https://www.acls.net/sitemap#educational-articles">Educational articles</a>
        </div>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md-5 order-2 order-md-1 mt-4 mt-md-0">
        <p>
          <span id="copyright">&copy;</span> {{ 'now' | date: '%Y' }}
          ACLS Training Center.
        </p>
      </div>
      <div class="col-md-7 text-md-end order-1 order-md-2 footer-links">
        <a
          class="d-md-inline mx-md-4"
          href="https://github.com/acls-training-center/rnmobility.com/blob/main/source/{{ page.name }}"
          >Edit this page</a
        >
        <a href="https://www.acls.net/privacy" class="d-md-inline">Privacy policy</a>
        <a href="https://www.acls.net/terms" class="d-md-inline mx-md-4">Terms &amp; conditions</a>
        <a href="https://www.acls.net/returns" class="d-md-inline">Returns</a>
      </div>
    </div>
  </div>
</footer>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Initial setup for pre-checked ACLS course
    addCourseToForm(46339924689133);

    // Add click and keyboard handlers to all course cards
    document.querySelectorAll('.course-card').forEach((card) => {
      // Click handler
      card.addEventListener('click', handleCardSelection);

      // Keyboard handler
      card.addEventListener('keydown', (event) => {
        // Trigger selection on Space or Enter key
        if (event.key === ' ' || event.key === 'Enter') {
          event.preventDefault(); // Prevent page scroll on space
          handleCardSelection.call(card);
        }
      });
    });

    function handleCardSelection() {
      const courseId = this.dataset.course;
      const isSelected = this.classList.toggle('selected');

      // Update ARIA state
      this.setAttribute('aria-pressed', isSelected);

      if (isSelected) {
        addCourseToForm(courseId);
      } else {
        removeCourseFromForm(courseId);
      }
    }

    function addCourseToForm(courseNum) {
      if (!document.querySelector('#courseHidden' + courseNum)) {
        const courseHiddenInput = document.createElement('input');
        courseHiddenInput.setAttribute('type', 'hidden');
        courseHiddenInput.setAttribute('id', 'items[' + courseNum + ']');
        courseHiddenInput.setAttribute('name', 'items[' + courseNum + ']');
        courseHiddenInput.setAttribute('class', 'courseHidden');
        courseHiddenInput.setAttribute('value', 1);

        const form = document.querySelector('.courses-btns-form');
        form.appendChild(courseHiddenInput);

        // GA4 tracking
        if (typeof gtag === 'function') {
          gtag('event', 'add_to_cart', {
            currency: 'USD',
            value: courses[courseNum].price,
            items: [
              {
                item_id: 'items[' + courseNum + ']',
                item_name: courses[courseNum].name,
                currency: 'USD',
                price: courses[courseNum].price,
                quantity: 1,
              },
            ],
          });
        }
      }
    }

    function removeCourseFromForm(courseNum) {
      // Escape special characters for valid selector
      const courseId = `#items\\[${courseNum}\\]`;
      document.querySelector(courseId)?.remove();
    }

    // Handle form submission
    document.querySelector('#buynow-btn').addEventListener('click', () => {
      const selectedCourses = document.querySelectorAll('.course-card.selected');
      if (selectedCourses.length === 0) {
        event.preventDefault();
        alert('Please select at least one course');
        return;
      }
    });
  });

  const courses = {
    46339924689133: {
      name: 'ACLS Recertification Course',
      price: '175.0',
    },
    46339924918509: {
      name: 'BLS Recertification Course',
      price: '65.0',
    },
    46339925278957: {
      name: 'PALS Recertification Course',
      price: '175.0',
    },
  };
</script>
